# MAKEFILE FOR UML

##===============================================================================
# Variables
IMGDIR = ../img/
SRC   := $(wildcard *.puml)
PNG   := $(patsubst %.puml, %.png, $(SRC))
UTXT  := $(patsubst %.puml, %.utxt, $(SRC))

##===============================================================================
# Recipes

##-------------------------------------------------------------------------------
#
all: png utxt

##-------------------------------------------------------------------------------
#
png: $(PNG)
	cp $(PNG) $(IMGDIR)

##-------------------------------------------------------------------------------
#
utxt: $(UTXT)

##-------------------------------------------------------------------------------
#
clean:
	rm -f $(PNG) $(UTXT)

##===============================================================================
#

##-------------------------------------------------------------------------------
#
%.png: %.puml
	plantuml -tpng $<

##-------------------------------------------------------------------------------
#
%.utxt: %.puml
	plantuml -tutxt $<
